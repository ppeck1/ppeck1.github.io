<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paul Peck, RN ‚Äî E-MyR Interactive Resume</title>
    
    <!-- SEO & Social Meta Tags -->
    <meta name="description" content="Interactive EMR-style resume of Paul Peck, RN - blending clinical expertise with informatics and design.">
    <meta property="og:title" content="Paul Peck, RN - E-MyR Interactive Resume">
    <meta property="og:description" content="Interactive EMR-style resume of Paul Peck, RN - blending clinical expertise with informatics and design.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ppeck.me/">
    <meta property="og:image" content="assets/og/preview.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Paul Peck, RN - E-MyR Interactive Resume">
    <meta name="twitter:description" content="Interactive EMR-style resume of Paul Peck, RN - blending clinical expertise with informatics and design.">
    <meta name="twitter:image" content="assets/og/preview.png">
    
    <!-- Favicon & Manifest -->
    <link rel="icon" href="assets/favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="assets/icons/icon-192.png">
    <link rel="manifest" href="assets/manifest.webmanifest">
    <meta name="theme-color" content="#009688">
    
    <!-- Prefetch Resume -->
    <link rel="prefetch" href="assets/resume/Paul_Peck_RN_Clinical_Informatics_Resume.pdf" as="document">
    
    <style>
        /* CSS Reset & Base */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --accent-primary: #009688;
            --accent-secondary: #C46B3B;
            --bg-dark: #1B1B1B;
            --bg-light: #F5F5F3;
            --text-light: #1B1B1B;
            --text-dark: #EAE4D3;
            --link-color: #00BFA5;
            --transition-speed: 0.3s;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            background: var(--bg-light);
            color: var(--text-light);
            transition: background var(--transition-speed), color var(--transition-speed);
        }

        body.dark-theme {
            background: var(--bg-dark);
            color: var(--text-dark);
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Main Layout */
        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .app-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: var(--accent-primary);
            color: white;
            border-radius: 8px 8px 0 0;
            margin-bottom: 2px;
        }

        .app-title {
            font-size: 1.8rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background var(--transition-speed);
        }

        .theme-toggle:hover,
        .theme-toggle:focus {
            background: rgba(255, 255, 255, 0.3);
            outline: 2px solid white;
            outline-offset: 2px;
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            background: var(--bg-light);
            border-bottom: 3px solid var(--accent-primary);
            overflow-x: auto;
            gap: 4px;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }

        .nav-tabs::-webkit-scrollbar {
            display: none;
        }

        .dark-theme .nav-tabs {
            background: var(--bg-dark);
        }

        .nav-tab {
            flex: 1 1 0;
            min-width: 120px;
            padding: 15px 20px;
            background: rgba(0, 150, 136, 0.1);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            color: inherit;
            transition: all var(--transition-speed);
            position: relative;
            user-select: none;
            white-space: nowrap;
            scroll-snap-align: start;
        }

        .nav-tab:hover,
        .nav-tab:focus {
            background: rgba(0, 150, 136, 0.2);
            outline: none;
        }

        .nav-tab.active {
            background: var(--accent-primary);
            color: white;
        }

        .nav-tab.active::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--accent-secondary);
        }

        /* Content Area */
        .content-area {
            flex: 1;
            background: var(--bg-light);
            padding: 30px;
            border-radius: 0 0 8px 8px;
            margin-bottom: 80px;
            min-height: 500px;
        }

        .dark-theme .content-area {
            background: var(--bg-dark);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Typography */
        h2 {
            color: var(--accent-primary);
            margin-bottom: 20px;
            font-size: 1.8rem;
            border-bottom: 2px solid var(--accent-secondary);
            padding-bottom: 10px;
        }

        h3 {
            color: var(--accent-secondary);
            margin: 20px 0 10px;
            font-size: 1.3rem;
        }

        h4 {
            margin: 15px 0 8px;
            font-size: 1.1rem;
        }

        a {
            color: var(--link-color);
            text-decoration: none;
            transition: opacity var(--transition-speed);
        }

        a:hover,
        a:focus {
            opacity: 0.7;
            outline: 2px solid var(--link-color);
            outline-offset: 2px;
        }

        /* Experience Items */
        .experience-item,
        .skills-section,
        .document-item {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 150, 136, 0.05);
            border-radius: 6px;
            border-left: 4px solid var(--accent-primary);
        }

        .collapsible-header {
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px 0;
            outline: none;
        }

        .collapsible-header:hover {
            opacity: 0.8;
        }

        .collapsible-header:focus-visible {
            outline: 2px solid var(--accent-primary);
            outline-offset: 2px;
            border-radius: 4px;
        }

        .collapsible-icon {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
            color: var(--accent-primary);
            font-weight: bold;
        }

        .collapsible-header.expanded .collapsible-icon {
            transform: rotate(90deg);
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out;
        }

        .collapsible-content.expanded {
            max-height: 2000px;
            transition: max-height 0.6s ease-in;
        }

        .experience-header {
            margin-bottom: 15px;
        }

        .experience-role {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--accent-primary);
            margin-bottom: 5px;
        }

        .experience-org {
            font-weight: 500;
            color: var(--accent-secondary);
            margin-bottom: 8px;
        }

        .experience-meta {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .experience-bullets {
            list-style: none;
            padding-left: 0;
        }

        .experience-bullets li {
            padding-left: 25px;
            margin-bottom: 10px;
            position: relative;
        }

        .experience-bullets li::before {
            content: '‚ñ∏';
            position: absolute;
            left: 0;
            color: var(--accent-primary);
            font-weight: bold;
        }

        /* Skills Lists */
        .skills-section {
            margin-bottom: 25px;
        }

        .skills-list {
            list-style: none;
            padding-left: 0;
        }

        .skills-list li {
            padding: 12px 15px;
            margin-bottom: 8px;
            background: rgba(0, 150, 136, 0.05);
            border-radius: 4px;
            border-left: 3px solid var(--accent-primary);
        }

        /* Demographics */
        .demographics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .demo-item {
            padding: 15px;
            background: rgba(0, 150, 136, 0.05);
            border-radius: 6px;
        }

        .demo-label {
            font-weight: 600;
            color: var(--accent-primary);
            margin-bottom: 5px;
        }

        .links-list {
            list-style: none;
            padding: 0;
        }

        .links-list li {
            margin-bottom: 8px;
        }

        /* Documents */
        .document-item {
            padding: 15px;
            margin-bottom: 15px;
            background: rgba(0, 150, 136, 0.05);
            border-radius: 6px;
            border-left: 4px solid var(--accent-secondary);
        }

        .doc-title {
            font-weight: 600;
            color: var(--accent-primary);
            margin-bottom: 5px;
        }

        .doc-meta {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 10px;
        }

        .doc-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .doc-link {
            padding: 8px 16px;
            background: var(--accent-primary);
            color: white;
            border-radius: 4px;
            font-size: 0.9rem;
            display: inline-block;
            transition: background var(--transition-speed);
        }

        .doc-link:hover,
        .doc-link:focus {
            background: var(--accent-secondary);
            outline: 2px solid var(--accent-primary);
        }

        /* Dock */
        .dock {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--accent-primary);
            padding: 15px 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .dock.scrolled {
            padding: 8px 20px;
            background: rgba(0, 150, 136, 0.85);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        @supports not (backdrop-filter: blur(8px)) {
            .dock.scrolled {
                background: rgba(0, 150, 136, 0.95);
            }
        }

        .dock-button {
            padding: 12px 24px;
            background: white;
            color: var(--accent-primary);
            border: none;
            border-radius: 6px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-speed);
            text-decoration: none;
            display: inline-block;
        }

        .dock.scrolled .dock-button {
            font-size: 0.9rem;
        }

        .dock-button:hover,
        .dock-button:focus {
            background: var(--accent-secondary);
            color: white;
            transform: translateY(-2px);
            outline: 2px solid white;
            outline-offset: 2px;
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: 60px 20px;
            font-size: 1.2rem;
            color: var(--accent-primary);
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
                color: black;
            }

            .app-container {
                max-width: 100%;
                padding: 0;
            }

            .app-header,
            .nav-tabs,
            .dock,
            .theme-toggle {
                display: none !important;
            }

            .content-area {
                margin-bottom: 0;
                padding: 20px;
                background: white;
            }

            .tab-content {
                display: block !important;
                page-break-inside: avoid;
            }

            .experience-item,
            .document-item {
                page-break-inside: avoid;
                background: white !important;
                border: 1px solid #ddd;
            }

            h2 {
                color: #009688;
                font-size: 1.4rem;
                margin-top: 15px;
            }

            h3 {
                color: #C46B3B;
                font-size: 1.1rem;
            }

            a {
                color: #009688;
                text-decoration: underline;
            }

            .doc-actions,
            .links-list {
                display: none;
            }

            /* Compact print layout */
            .tab-content:not(#tab-demographics):not(#tab-history) {
                display: none !important;
            }

            .experience-item {
                margin-bottom: 15px;
                padding: 12px;
            }

            .experience-bullets li {
                margin-bottom: 5px;
                font-size: 0.9rem;
            }
        }

        /* Boot Screen */
        .boot-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-dark);
            color: var(--text-dark);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }

        .boot-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .boot-logo {
            font-size: 4rem;
            font-weight: 700;
            color: var(--accent-primary);
            margin-bottom: 20px;
            letter-spacing: 3px;
            animation: logoPulse 2.2s ease-in-out;
        }

        @keyframes logoPulse {
            0%, 100% { transform: scale(1); }
            45% { transform: scale(1.04); }
            55% { transform: scale(1.04); }
        }

        .boot-subtitle {
            font-size: 1.2rem;
            margin-bottom: 40px;
            color: var(--accent-secondary);
            letter-spacing: 1px;
        }

        .boot-heartbeat {
            width: 300px;
            height: 60px;
            margin-bottom: 15px;
        }

        .heartbeat-line {
            stroke: var(--accent-primary);
            stroke-width: 2;
            fill: none;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: drawHeartbeat 2.2s ease-in-out forwards;
        }

        @keyframes drawHeartbeat {
            to {
                stroke-dashoffset: 0;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            .boot-logo {
                animation: none;
            }
            .heartbeat-line {
                animation: none;
                stroke-dashoffset: 0;
            }
        }

        .boot-status {
            font-size: 0.9rem;
            opacity: 0.7;
            font-family: 'Courier New', monospace;
        }

        /* Welcome Modal */
        .welcome-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9998;
            opacity: 1;
            transition: opacity 0.3s ease-out;
            padding: 20px;
        }

        .welcome-modal.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .welcome-content {
            background: var(--bg-light);
            color: var(--text-light);
            max-width: 600px;
            padding: 50px 40px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            border: 3px solid var(--accent-primary);
            animation: modalSlideIn 0.4s ease-out;
        }

        .dark-theme .welcome-content {
            background: var(--bg-dark);
            color: var(--text-dark);
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .welcome-title {
            font-size: 2.5rem;
            color: var(--accent-primary);
            margin-bottom: 20px;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.3rem;
            color: var(--accent-secondary);
            margin-bottom: 15px;
            font-weight: 500;
        }

        .welcome-description {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 35px;
            opacity: 0.9;
        }

        .welcome-button {
            background: var(--accent-primary);
            color: white;
            border: none;
            padding: 18px 45px;
            font-size: 1.2rem;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 150, 136, 0.3);
        }

        .welcome-button:hover,
        .welcome-button:focus {
            background: var(--accent-secondary);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 150, 136, 0.4);
            outline: 3px solid var(--accent-primary);
            outline-offset: 3px;
        }

        .skip-intro-label {
            margin-top: 25px;
            font-size: 0.9rem;
            opacity: 0.7;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .skip-intro-label input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        /* Tutorial Tooltips */
        .tutorial-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 9997;
            opacity: 1;
            transition: opacity 0.3s ease-out;
        }

        .tutorial-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .tutorial-tooltip {
            position: fixed;
            background: var(--accent-primary);
            color: white;
            padding: 20px 25px;
            border-radius: 8px;
            max-width: 350px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            z-index: 9998;
            animation: tooltipPulse 0.5s ease-out;
        }

        @keyframes tooltipPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .tutorial-tooltip::after {
            content: '';
            position: absolute;
            border: 12px solid transparent;
        }

        .tutorial-tooltip.top::after {
            bottom: -24px;
            left: 50%;
            transform: translateX(-50%);
            border-top-color: var(--accent-primary);
        }

        .tutorial-tooltip.bottom::after {
            top: -24px;
            left: 50%;
            transform: translateX(-50%);
            border-bottom-color: var(--accent-primary);
        }

        .tutorial-text {
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .tutorial-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .tutorial-button {
            background: white;
            color: var(--accent-primary);
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .tutorial-button:hover,
        .tutorial-button:focus {
            background: var(--accent-secondary);
            color: white;
            outline: 2px solid white;
            outline-offset: 2px;
        }

        .tutorial-button.secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .tutorial-button.secondary:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .tutorial-step {
            font-size: 0.85rem;
            opacity: 0.8;
            margin-top: 10px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .app-title {
                font-size: 1.3rem;
            }

            .nav-tab {
                min-width: 90px;
                padding: 12px 10px;
                font-size: 0.9rem;
            }

            .content-area {
                padding: 20px;
            }

            .demographics-grid {
                grid-template-columns: 1fr;
            }

            .dock {
                padding: 10px;
                gap: 8px;
            }

            .dock-button {
                padding: 10px 16px;
                font-size: 0.85rem;
            }

            .boot-logo {
                font-size: 2.5rem;
            }

            .boot-subtitle {
                font-size: 1rem;
            }

            .welcome-content {
                padding: 30px 25px;
            }

            .welcome-title {
                font-size: 1.8rem;
            }

            .welcome-subtitle {
                font-size: 1.1rem;
            }

            .welcome-description {
                font-size: 1rem;
            }

            .tutorial-tooltip {
                max-width: 280px;
                padding: 15px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Boot Screen -->
    <div class="boot-screen" id="bootScreen">
        <div class="boot-logo">E-MyR</div>
        <div class="boot-subtitle">Electronic Medical Record System</div>
        <svg class="boot-heartbeat" viewBox="0 0 300 60" xmlns="http://www.w3.org/2000/svg">
            <path class="heartbeat-line" d="M0,30 L50,30 L60,10 L70,50 L80,20 L90,40 L100,30 L300,30" />
        </svg>
        <div class="boot-status">Initializing system...</div>
    </div>

    <!-- Welcome Modal -->
    <div class="welcome-modal hidden" id="welcomeModal">
        <div class="welcome-content">
            <h1 class="welcome-title">Welcome to E-MyR</h1>
            <h2 class="welcome-subtitle">Paul Peck, RN</h2>
            <p class="welcome-description">
                Enjoy my interactive EMR styled resume.
            </p>
            <button class="welcome-button" id="enterChartBtn">Enter Chart ‚Üí</button>
            <label class="skip-intro-label">
                <input type="checkbox" id="skipIntroCheckbox">
                <span>Don't show this again</span>
            </label>
        </div>
    </div>

    <!-- Tutorial Overlay -->
    <div class="tutorial-overlay hidden" id="tutorialOverlay"></div>
    <div class="tutorial-tooltip hidden" id="tutorialTooltip">
        <div class="tutorial-text" id="tutorialText"></div>
        <div class="tutorial-actions">
            <button class="tutorial-button secondary" id="skipTutorialBtn">Skip</button>
            <button class="tutorial-button" id="nextTutorialBtn">Next</button>
        </div>
        <div class="tutorial-step" id="tutorialStep"></div>
    </div>

    <div class="app-container">
        <header class="app-header" role="banner">
            <h1 class="app-title">E-MyR ‚Äî Electronic Medical Record</h1>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                <span id="themeIcon">üåô</span> <span id="themeText">Dark</span>
            </button>
        </header>

        <nav class="nav-tabs" role="navigation" aria-label="Resume sections">
            <button class="nav-tab active" data-tab="demographics" role="tab" aria-selected="true">Demographics</button>
            <button class="nav-tab" data-tab="history" role="tab" aria-selected="false">History</button>
            <button class="nav-tab" data-tab="meds" role="tab" aria-selected="false">Meds</button>
            <button class="nav-tab" data-tab="labs" role="tab" aria-selected="false">Labs</button>
            <button class="nav-tab" data-tab="notes" role="tab" aria-selected="false">Notes</button>
            <button class="nav-tab" data-tab="documents" role="tab" aria-selected="false">Documents</button>
        </nav>

        <main class="content-area" role="main">
            <div class="loading" id="loading">Loading resume data...</div>
            
            <div id="tab-demographics" class="tab-content" role="tabpanel" aria-labelledby="Demographics">
                <!-- Demographics content will be populated by JS -->
            </div>
            
            <div id="tab-history" class="tab-content" role="tabpanel" aria-labelledby="History">
                <!-- History content will be populated by JS -->
            </div>
            
            <div id="tab-meds" class="tab-content" role="tabpanel" aria-labelledby="Meds">
                <!-- Meds content will be populated by JS -->
            </div>
            
            <div id="tab-labs" class="tab-content" role="tabpanel" aria-labelledby="Labs">
                <!-- Labs content will be populated by JS -->
            </div>
            
            <div id="tab-notes" class="tab-content" role="tabpanel" aria-labelledby="Notes">
                <!-- Notes content will be populated by JS -->
            </div>
            
            <div id="tab-documents" class="tab-content" role="tabpanel" aria-labelledby="Documents">
                <!-- Documents content will be populated by JS -->
            </div>
        </main>

        <nav class="dock" role="navigation" aria-label="Quick actions">
            <button class="dock-button" id="homeBtn">üè† Home</button>
            <a class="dock-button" id="resumeBtn" href="assets/resume/Paul_Peck_RN_Clinical_Informatics_Resume.pdf" download>üìÑ Download Resume</a>
            <button class="dock-button" id="restartBtn">üîÑ Restart Intro</button>
            <a class="dock-button" id="contactBtn" href="mailto:paultpeck@gmail.com">‚úâÔ∏è Contact</a>
        </nav>
    </div>

    <script>
        // Resume data will be embedded here
        const resumeData = {
            "version": "1.2",
            "project": "ppeck.me ‚Äî Interactive Resume",
            "identity": {
                "name": "Paul Peck, RN",
                "title": "Clinical Informatics & Documentation Specialist",
                "location": "Orlando, FL",
                "public_email": "paultpeck@gmail.com",
                "links": {
                    "website": "https://ppeck.me",
                    "studio": "https://bigpeckturestudio.com",
                    "shop": "https://sinternetcult.com",
                    "linkedin": "https://www.linkedin.com/in/paul-peck-759737211/",
                    "github": "https://github.com/ppeck1"
                }
            },
            "branding": {
                "palette": {
                    "accent_primary": "#009688",
                    "accent_secondary": "#C46B3B",
                    "background_dark": "#1B1B1B",
                    "background_light": "#F5F5F3",
                    "text_light": "#1B1B1B",
                    "text_dark": "#EAE4D3",
                    "link_color": "#00BFA5"
                }
            },
            "resume": {
                "summary": "Registered Nurse with more than 15 years of clinical and remote experience spanning emergency care, pediatrics, case management, and telehealth. Skilled in documentation accuracy, workflow design, and clinical technology. Recognized for creating efficiency tools and peer resources that streamline charting, improve consistency, and enhance care coordination in high volume settings. Focused on remote roles in utilization review, clinical documentation, or nursing informatics where I can combine clinical insight with process improvement and digital fluency.",
                "skills": {
                    "clinical_documentation_systems": [
                        "Utilization review and care coordination",
                        "Clinical documentation improvement (CDI)",
                        "EHR workflow optimization using Epic and Salesforce",
                        "Remote triage, quality review, and audit support"
                    ],
                    "tech_automation": [
                        "Developed documentation macros and workflow automations; one alone reduced charting time by roughly one hour per week per clinician across a 30 member team",
                        "Basic Python scripting and data automation (Coursera: Programming for Everybody)",
                        "Proficient with Microsoft Office, Google Workspace, and digital collaboration tools",
                        "Strong understanding of healthcare data, privacy, and HIPAA compliance"
                    ],
                    "leadership_collaboration": [
                        "Peer mentorship and morale building in distributed teams",
                        "Contributor to workflow and training documentation",
                        "Interdisciplinary communication and cross team coordination",
                        "Recognized for initiative, reliability, and technical support"
                    ],
                    "creative_systems_thinking": [
                        "Visual storytelling and educational content using Photoshop, Lightroom, and Canva",
                        "Video editing with DaVinci Resolve for instructional and promotional media",
                        "Background in community systems design and sustainability projects",
                        "Integrates clinical, technical, and creative thinking to drive engagement and clarity"
                    ]
                },
                "experience": [
                    {
                        "role": "Remote Triage Nurse",
                        "organization": "Signallamp Health",
                        "location": "Remote",
                        "dates": "Jun 2023 ‚Äî Present",
                        "bullets": [
                            "Provide remote triage support and care coordination through Epic and Salesforce across multiple clinical practices",
                            "Consistently exceed daily productivity standards, managing 80 to 100 encounters per shift while maintaining accuracy and empathy",
                            "Developed and implemented documentation macros and workflow automations; one alone reduced charting time by roughly one hour per week per clinician across a 30 member team",
                            "Supported peers through training materials, EHR tips, and informal troubleshooting for workflow issues",
                            "Frequently assigned to assist across clinical pools due to adaptability, reliability, and high quality documentation"
                        ]
                    },
                    {
                        "role": "RN Case Manager ‚Äî Inpatient Rehabilitation",
                        "organization": "Orlando Rehab Hospital (Nobis Health)",
                        "location": "Orlando, FL",
                        "dates": "Oct 2024 ‚Äî Jun 2025",
                        "bullets": [
                            "Coordinated complex discharge plans and interdisciplinary communication for patients in a post acute rehabilitation setting",
                            "Conducted utilization reviews and facilitated payer communication to ensure timely authorizations and continuity of care",
                            "Collaborated closely with patients and families to develop safe, successful discharge and transition of care plans",
                            "Maintained detailed care plans, discharge summaries, and insurance documentation aligned with clinical and regulatory standards"
                        ]
                    },
                    {
                        "role": "RN Case Manager ‚Äî Inpatient Rehabilitation",
                        "organization": "Encompass Health",
                        "location": "Orlando, FL",
                        "dates": "Feb 2023 ‚Äî Oct 2024",
                        "bullets": [
                            "Managed daily caseloads of 15 to 20 medically complex rehab patients, coordinating with physicians, therapists, insurers, and families to ensure safe and successful discharges",
                            "Acted as liaison between patients and payers to secure pre certifications and continued stay approvals",
                            "Streamlined care coordination documentation through improved template use and efficient workflow habits",
                            "Named Employee of the Month in June 2023 for outstanding performance and collaboration"
                        ]
                    },
                    {
                        "role": "IV Infusion Nurse",
                        "organization": "Vitalounge",
                        "location": "Orlando, FL",
                        "dates": "Oct 2022 ‚Äî Feb 2023",
                        "bullets": [
                            "Administered IV vitamin and hydration infusions in a wellness setting, ensuring safe and comfortable patient experiences",
                            "Monitored for adverse reactions, maintained IV access, and accurately documented services and outcomes",
                            "Built client trust through education, communication, and professionalism"
                        ]
                    },
                    {
                        "role": "Stay at Home Parent / Homeschool Educator",
                        "organization": "Family",
                        "location": "Orlando, FL",
                        "dates": "Dec 2017 ‚Äî Feb 2023",
                        "bullets": [
                            "Managed full time home education and developmental planning for two children with individualized curriculum design",
                            "Balanced time management, communication, and household operations in a dynamic, high responsibility role",
                            "Created educational materials and documentation systems to track progress and milestones"
                        ]
                    },
                    {
                        "role": "Telephonic RN Case Manager",
                        "organization": "Quantum Health",
                        "location": "Columbus, OH",
                        "dates": "2016 ‚Äî 2017",
                        "bullets": [
                            "Delivered telephonic case management and benefits education for employer based health plan members",
                            "Collaborated with multidisciplinary teams to coordinate care and ensure compliance with payer policies",
                            "Maintained accurate and timely documentation across multiple systems"
                        ]
                    },
                    {
                        "role": "Travel Nurse ‚Äî Emergency Department",
                        "organization": "Single Facility Assignment",
                        "location": "Contract",
                        "dates": "2015 ‚Äî 2017",
                        "bullets": [
                            "Provided emergency and trauma care in a high volume ER under repeated extended contracts",
                            "Actively sought by leadership to renew and extend contracts and repeatedly invited to join as a full time staff nurse",
                            "Recognized for reliability, composure, and efficient decision making in crisis situations"
                        ]
                    },
                    {
                        "role": "Staff Nurse ‚Äî Emergency Department",
                        "organization": "Nationwide Children's Hospital",
                        "location": "Columbus, OH",
                        "dates": "2012 ‚Äî 2016",
                        "bullets": [
                            "Delivered comprehensive pediatric emergency care, including triage, stabilization, and family education",
                            "Served as a unit leader often assigned as trauma nurse, intake desk lead, or float to assist high acuity areas",
                            "Trained and supported new staff and paramedic students in clinical procedures",
                            "Commended for teamwork, communication, and consistent documentation quality"
                        ]
                    }
                ],
                "education": [
                    {
                        "degree": "Associate Degree in Nursing (ADN)",
                        "institution": "Chamberlain University",
                        "year": "2012"
                    }
                ],
                "certificates": [
                    {
                        "id": "cert_py_umich",
                        "title": "Programming for Everybody (Python)",
                        "issuer": "University of Michigan / Coursera",
                        "completed": "Oct 2025"
                    },
                    {
                        "id": "license_rn_fl",
                        "title": "Registered Nurse ‚Äî Compact Multistate License",
                        "details": "FL RN9613731, Unencumbered, Expires 07/31/2026",
                        "verify_instructions": "Verification available via Nursys QuickConfirm search portal.",
                        "verify_url": "https://www.nursys.com"
                    }
                ],
                "resume_pdf": "assets/resume/Paul_Peck_RN_Clinical_Informatics_Resume.pdf"
            },
            "tabs": {
                "Demographics": {
                    "name": "Paul Tobin Peck",
                    "location": "Orlando, FL",
                    "license": "FL RN9613731 (Compact, Unencumbered, Expires 07/31/2026)",
                    "contact": "paultpeck@gmail.com",
                    "links": [
                        "https://ppeck.me",
                        "https://bigpeckturestudio.com",
                        "https://sinternetcult.com",
                        "https://www.linkedin.com/in/paul-peck-759737211/",
                        "https://github.com/ppeck1"
                    ]
                }
            }
        };

        // Utility function to resolve @resume.* references
        function resolveReference(ref, data) {
            if (typeof ref !== 'string' || !ref.startsWith('@resume.')) {
                return ref;
            }
            const path = ref.substring(1).split('.');
            let result = data;
            for (const key of path) {
                result = result[key];
                if (result === undefined) return ref;
            }
            return result;
        }

        // Intro Sequence Controller
        class IntroSequence {
            constructor() {
                this.bootScreen = document.getElementById('bootScreen');
                this.welcomeModal = document.getElementById('welcomeModal');
                this.tutorialOverlay = document.getElementById('tutorialOverlay');
                this.tutorialTooltip = document.getElementById('tutorialTooltip');
                this.currentStep = 0;
                this.skipIntro = localStorage.getItem('skipIntro') === 'true';
                
                this.tutorialSteps = [
                    {
                        text: "You can use these tabs to navigate through my resume, just like a patient chart",
                        target: '.nav-tabs',
                        position: 'bottom'
                    },
                    {
                        text: "You can use this handy dock at the bottom to return to home, download my resume, restart this tour, or even send me an email",
                        target: '.dock',
                        position: 'top'
                    }
                ];
            }

            async start() {
                // Show boot animation
                await this.bootAnimation();
                
                // If user has opted to skip intro, don't show welcome or tutorial
                if (this.skipIntro) {
                    return;
                }
                
                // Show welcome modal
                this.showWelcome();
            }

            async bootAnimation() {
                return new Promise(resolve => {
                    setTimeout(() => {
                        this.bootScreen.classList.add('hidden');
                        resolve();
                    }, 2200); // Wait for progress bar animation to complete
                });
            }

            showWelcome() {
                this.welcomeModal.classList.remove('hidden');
                
                const enterBtn = document.getElementById('enterChartBtn');
                const skipCheckbox = document.getElementById('skipIntroCheckbox');
                
                enterBtn.addEventListener('click', () => {
                    if (skipCheckbox.checked) {
                        localStorage.setItem('skipIntro', 'true');
                    }
                    this.welcomeModal.classList.add('hidden');
                    
                    // Check if this is truly first visit (not just skipped)
                    if (!localStorage.getItem('hasSeenTutorial')) {
                        setTimeout(() => this.startTutorial(), 500);
                    }
                });

                // Focus the enter button for accessibility
                enterBtn.focus();
            }

            startTutorial() {
                this.currentStep = 0;
                this.tutorialOverlay.classList.remove('hidden');
                this.showTutorialStep();
                
                const nextBtn = document.getElementById('nextTutorialBtn');
                const skipBtn = document.getElementById('skipTutorialBtn');
                
                // Remove any existing listeners
                const newNextBtn = nextBtn.cloneNode(true);
                nextBtn.parentNode.replaceChild(newNextBtn, nextBtn);
                const newSkipBtn = skipBtn.cloneNode(true);
                skipBtn.parentNode.replaceChild(newSkipBtn, skipBtn);
                
                document.getElementById('nextTutorialBtn').addEventListener('click', () => {
                    this.currentStep++;
                    if (this.currentStep >= this.tutorialSteps.length) {
                        this.endTutorial();
                    } else {
                        this.showTutorialStep();
                    }
                });
                
                document.getElementById('skipTutorialBtn').addEventListener('click', () => {
                    this.endTutorial();
                });
            }

            showTutorialStep() {
                const step = this.tutorialSteps[this.currentStep];
                const tooltip = this.tutorialTooltip;
                
                // Update content
                document.getElementById('tutorialText').textContent = step.text;
                document.getElementById('tutorialStep').textContent = 
                    `Step ${this.currentStep + 1} of ${this.tutorialSteps.length}`;
                
                // Update button text for last step
                const nextBtn = document.getElementById('nextTutorialBtn');
                nextBtn.textContent = this.currentStep === this.tutorialSteps.length - 1 ? 'Finish' : 'Next';
                
                // Position tooltip
                tooltip.classList.remove('hidden', 'top', 'bottom');
                tooltip.classList.add(step.position);
                
                const target = document.querySelector(step.target);
                const targetRect = target.getBoundingClientRect();
                
                if (step.position === 'bottom') {
                    tooltip.style.top = `${targetRect.bottom + 20}px`;
                    tooltip.style.left = `${targetRect.left + targetRect.width / 2}px`;
                    tooltip.style.transform = 'translateX(-50%)';
                } else if (step.position === 'top') {
                    tooltip.style.bottom = `${window.innerHeight - targetRect.top + 20}px`;
                    tooltip.style.top = 'auto';
                    tooltip.style.left = `${targetRect.left + targetRect.width / 2}px`;
                    tooltip.style.transform = 'translateX(-50%)';
                }
            }

            endTutorial() {
                this.tutorialOverlay.classList.add('hidden');
                this.tutorialTooltip.classList.add('hidden');
                localStorage.setItem('hasSeenTutorial', 'true');
                localStorage.setItem('skipIntro', 'true'); // Also mark intro as seen
            }

            restart() {
                // Clear localStorage flags
                localStorage.removeItem('skipIntro');
                localStorage.removeItem('hasSeenTutorial');
                // Reload page to restart intro
                window.location.reload();
            }
        }

        // Initialize intro sequence
        const introSequence = new IntroSequence();

        // Utility function to resolve @resume.* references
        function resolveReference(ref, data) {
            if (typeof ref !== 'string' || !ref.startsWith('@resume.')) {
                return ref;
            }
            const path = ref.substring(1).split('.');
            let result = data;
            for (const key of path) {
                result = result[key];
                if (result === undefined) return ref;
            }
            return result;
        }

        // Render functions
        function renderDemographics(data) {
            const demo = data.tabs.Demographics;
            
            // Create link map with custom display text
            const linkMap = {
                "https://bigpeckturestudio.com": "Photography",
                "https://sinternetcult.com": "E-Commerce Platform",
                "https://www.linkedin.com/in/paul-peck-759737211/": "LinkedIn",
                "https://github.com/ppeck1": "GitHub"
            };
            
            // Filter out ppeck.me and map to custom text
            const displayLinks = demo.links
                .filter(link => link !== "https://ppeck.me")
                .map(link => ({
                    url: link,
                    text: linkMap[link] || link
                }));
            
            return `
                <h2>Patient Demographics</h2>
                <div class="demographics-grid">
                    <div class="demo-item">
                        <div class="demo-label">Name</div>
                        <div>${demo.name}</div>
                    </div>
                    <div class="demo-item">
                        <div class="demo-label">Location</div>
                        <div>${demo.location}</div>
                    </div>
                    <div class="demo-item">
                        <div class="demo-label">License</div>
                        <div>${demo.license}</div>
                    </div>
                    <div class="demo-item">
                        <div class="demo-label">Contact</div>
                        <div><a href="mailto:${demo.contact}">${demo.contact}</a></div>
                    </div>
                </div>
                <h3>Professional Links</h3>
                <ul class="links-list">
                    ${displayLinks.map(link => `<li><a href="${link.url}" target="_blank" rel="noopener">${link.text}</a></li>`).join('')}
                </ul>
            `;
        }

        function renderHistory(data) {
            const summary = resolveReference('@resume.summary', data);
            const experience = resolveReference('@resume.experience', data);
            
            return `
                <h2>Clinical History</h2>
                <h3>Professional Summary</h3>
                <p>${summary}</p>
                <h3>Experience</h3>
                ${experience.map((exp, index) => `
                    <div class="experience-item">
                        <div class="collapsible-header" data-target="exp-${index}">
                            <div>
                                <div class="experience-role">${exp.role}</div>
                                <div class="experience-org">${exp.organization}</div>
                            </div>
                            <span class="collapsible-icon">‚ñ∂</span>
                        </div>
                        <div class="collapsible-content" id="exp-${index}">
                            <div class="experience-meta">
                                <span>üìç ${exp.location}</span>
                                <span>üìÖ ${exp.dates.replace(/‚Äî/g, '-')}</span>
                            </div>
                            <ul class="experience-bullets">
                                ${exp.bullets.map(bullet => `<li>${bullet}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `).join('')}
            `;
        }

        function renderMeds(data) {
            const skills = resolveReference('@resume.skills.tech_automation', data);
            return `
                <h2>Medications (Technical Skills)</h2>
                <div class="skills-section">
                    <div class="collapsible-header" data-target="meds-tech">
                        <h3>Technology & Automation</h3>
                        <span class="collapsible-icon">‚ñ∂</span>
                    </div>
                    <div class="collapsible-content" id="meds-tech">
                        <ul class="skills-list">
                            ${skills.map(skill => `<li>${skill}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            `;
        }

        function renderLabs(data) {
            const skills = resolveReference('@resume.skills.clinical_documentation_systems', data);
            return `
                <h2>Lab Results (Clinical Documentation)</h2>
                <div class="skills-section">
                    <div class="collapsible-header" data-target="labs-clinical">
                        <h3>Clinical Documentation Systems</h3>
                        <span class="collapsible-icon">‚ñ∂</span>
                    </div>
                    <div class="collapsible-content" id="labs-clinical">
                        <ul class="skills-list">
                            ${skills.map(skill => `<li>${skill}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            `;
        }

        function renderNotes(data) {
            const leadership = resolveReference('@resume.skills.leadership_collaboration', data);
            const creative = resolveReference('@resume.skills.creative_systems_thinking', data);
            
            return `
                <h2>Clinical Notes</h2>
                <div class="skills-section">
                    <div class="collapsible-header" data-target="notes-leadership">
                        <h3>Leadership & Collaboration</h3>
                        <span class="collapsible-icon">‚ñ∂</span>
                    </div>
                    <div class="collapsible-content" id="notes-leadership">
                        <ul class="skills-list">
                            ${leadership.map(skill => `<li>${skill}</li>`).join('')}
                        </ul>
                    </div>
                </div>
                <div class="skills-section">
                    <div class="collapsible-header" data-target="notes-creative">
                        <h3>Creative & Systems Thinking</h3>
                        <span class="collapsible-icon">‚ñ∂</span>
                    </div>
                    <div class="collapsible-content" id="notes-creative">
                        <ul class="skills-list">
                            ${creative.map(skill => `<li>${skill}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            `;
        }

        function renderDocuments(data) {
            const education = data.resume.education;
            const certificates = data.resume.certificates;
            
            return `
                <h2>Documents & Credentials</h2>
                <h3>Education</h3>
                ${education.map((edu, index) => `
                    <div class="document-item">
                        <div class="collapsible-header" data-target="edu-${index}">
                            <div class="doc-title">${edu.degree}</div>
                            <span class="collapsible-icon">‚ñ∂</span>
                        </div>
                        <div class="collapsible-content" id="edu-${index}">
                            <div class="doc-meta">${edu.institution} - ${edu.year}</div>
                        </div>
                    </div>
                `).join('')}
                
                <h3>Certifications & Licenses</h3>
                ${certificates.map((cert, index) => `
                    <div class="document-item">
                        <div class="collapsible-header" data-target="cert-${index}">
                            <div class="doc-title">${cert.title.replace(/‚Äî/g, '-')}</div>
                            <span class="collapsible-icon">‚ñ∂</span>
                        </div>
                        <div class="collapsible-content" id="cert-${index}">
                            <div class="doc-meta">
                                ${cert.issuer ? `${cert.issuer} - ` : ''}
                                ${cert.completed || cert.details || ''}
                            </div>
                            ${cert.verify_instructions ? `<p>${cert.verify_instructions}</p>` : ''}
                            ${cert.verify_url ? `
                                <div class="doc-actions">
                                    <a href="${cert.verify_url}" target="_blank" rel="noopener" class="doc-link">Verify License</a>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `).join('')}
            `;
        }

        // Initialize the app
        function initApp() {
            // Apply branding colors
            const palette = resumeData.branding.palette;
            document.documentElement.style.setProperty('--accent-primary', palette.accent_primary);
            document.documentElement.style.setProperty('--accent-secondary', palette.accent_secondary);
            document.documentElement.style.setProperty('--bg-dark', palette.background_dark);
            document.documentElement.style.setProperty('--bg-light', palette.background_light);
            document.documentElement.style.setProperty('--text-light', palette.text_light);
            document.documentElement.style.setProperty('--text-dark', palette.text_dark);
            document.documentElement.style.setProperty('--link-color', palette.link_color);

            // Render all tabs
            document.getElementById('tab-demographics').innerHTML = renderDemographics(resumeData);
            document.getElementById('tab-history').innerHTML = renderHistory(resumeData);
            document.getElementById('tab-meds').innerHTML = renderMeds(resumeData);
            document.getElementById('tab-labs').innerHTML = renderLabs(resumeData);
            document.getElementById('tab-notes').innerHTML = renderNotes(resumeData);
            document.getElementById('tab-documents').innerHTML = renderDocuments(resumeData);

            // Hide loading, show first tab
            document.getElementById('loading').style.display = 'none';
            document.getElementById('tab-demographics').classList.add('active');

            // Set up dock links
            const resumeBtn = document.getElementById('resumeBtn');
            if (resumeData.resume.resume_pdf) {
                resumeBtn.href = resumeData.resume.resume_pdf;
            }

            const contactBtn = document.getElementById('contactBtn');
            contactBtn.href = `mailto:${resumeData.identity.public_email}`;
            
            // Setup collapsible sections
            setupCollapsibles();
        }

        // Collapsible functionality
        function setupCollapsibles() {
            document.addEventListener('click', (e) => {
                const header = e.target.closest('.collapsible-header');
                if (!header) return;
                
                toggleCollapsible(header);
            });
            
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    const header = e.target.closest('.collapsible-header');
                    if (!header) return;
                    
                    e.preventDefault();
                    toggleCollapsible(header);
                }
            });
            
            // Make headers keyboard accessible
            document.querySelectorAll('.collapsible-header').forEach(header => {
                header.setAttribute('tabindex', '0');
                header.setAttribute('role', 'button');
                header.setAttribute('aria-expanded', 'false');
            });
        }
        
        function toggleCollapsible(header) {
            const targetId = header.dataset.target;
            const content = document.getElementById(targetId);
            
            if (!content) return;
            
            const isExpanded = header.classList.contains('expanded');
            
            // Toggle expanded state
            header.classList.toggle('expanded');
            content.classList.toggle('expanded');
            
            // Update aria-expanded
            header.setAttribute('aria-expanded', !isExpanded);
        }

        // Tab navigation
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const targetTab = tab.dataset.tab;
                
                // Update tab buttons
                document.querySelectorAll('.nav-tab').forEach(t => {
                    t.classList.remove('active');
                    t.setAttribute('aria-selected', 'false');
                });
                tab.classList.add('active');
                tab.setAttribute('aria-selected', 'true');
                
                // Update content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                document.getElementById(`tab-${targetTab}`).classList.add('active');
            });
        });

        // Keyboard navigation for tabs
        document.querySelectorAll('.nav-tab').forEach((tab, index, tabs) => {
            tab.addEventListener('keydown', (e) => {
                let newIndex = index;
                if (e.key === 'ArrowLeft') {
                    newIndex = index > 0 ? index - 1 : tabs.length - 1;
                    e.preventDefault();
                } else if (e.key === 'ArrowRight') {
                    newIndex = index < tabs.length - 1 ? index + 1 : 0;
                    e.preventDefault();
                }
                if (newIndex !== index) {
                    tabs[newIndex].focus();
                    tabs[newIndex].click();
                }
            });
        });

        // Theme toggle
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const themeText = document.getElementById('themeText');
        let isDark = false;

        // Check for saved preference or default to light mode
        if (localStorage.getItem('theme') === 'dark') {
            isDark = true;
            document.body.classList.add('dark-theme');
            themeIcon.textContent = '‚òÄÔ∏è';
            themeText.textContent = 'Light';
        }

        themeToggle.addEventListener('click', () => {
            isDark = !isDark;
            document.body.classList.toggle('dark-theme');
            
            if (isDark) {
                themeIcon.textContent = '‚òÄÔ∏è';
                themeText.textContent = 'Light';
                localStorage.setItem('theme', 'dark');
            } else {
                themeIcon.textContent = 'üåô';
                themeText.textContent = 'Dark';
                localStorage.setItem('theme', 'light');
            }
        });

        // Dock scroll behavior
        let lastScrollY = window.scrollY;
        const dock = document.querySelector('.dock');
        
        window.addEventListener('scroll', () => {
            if (window.scrollY > 80) {
                dock.classList.add('scrolled');
            } else {
                dock.classList.remove('scrolled');
            }
        }, { passive: true });

        // Dock actions
        document.getElementById('homeBtn').addEventListener('click', () => {
            document.querySelector('.nav-tab').click();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        document.getElementById('restartBtn').addEventListener('click', () => {
            introSequence.restart();
        });

        // Initialize app when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                initApp();
                introSequence.start();
            });
        } else {
            initApp();
            introSequence.start();
        }
    </script>
</body>
</html>